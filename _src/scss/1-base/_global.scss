@use 'sass:math';

// Global styles
html {
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

main > div:first-child .poster-behind .poster-wrapper {
	padding-top: var(--header-height);
}

// Create outlines on links and buttons to highten a11y

a:focus-visible,
button:focus-visible,
[ role="button" ]:focus-visible,
[ tabindex ]:focus-visible,
:where(:focus-visible) {
	outline: 0;
	box-shadow: $focus-ring-box-shadow;
}

// If you want to specify your own outline on selected elements

.no-outline:focus-visible {
	outline: none;
}

// We need this to removes the default margin bottom set by the rich text editor

.mb-0-last-child > *:last-child {
	margin-bottom: 0 !important;
}

.text-decoration-underline-hover {

	&:where(:hover) {
		text-decoration: underline !important;
	}
}

.text-decoration-accent-hover {

	&:where(:hover) {
		color: var(--swift-accent-color) !important;
	}
}

.lift {
	transform: translate3d(0, 0, 0);
	transition: $transition-base;
	will-change: transform;

	&:focus,
	&:hover {
		transform: translate3d(0, -3px, 0);
		backface-visibility: hidden;
	}

	&-lg {
		
		&:focus,
		&:hover {
			transform: translate3d(0, -5px, 0);
		}
	}
}

.shadow-hover {
	backface-visibility: hidden;
	will-change: transform;
}

// Hide headers on scroll

body[ data-intersected="true" ] .js-hide-on-scroll {
	transform: translateY(-100%);
	opacity: 0;
	visibility: hidden;
	transition: transform .2s, opacity .2s, height .2s;
	padding: 0 !important;
	height: 0;
}

.js-hide-on-scroll {
	opacity: 1;
	transition: transform .2s, opacity .2s, height .2s;
	height: auto;
}

// Navigation-wrapper - Adds negative margin for better alignment

[ class^='container' ]:not(.px-0) .nav-wrapper {
	margin-inline: calc(#{math.div($spacer, 2)} * -1);
}

// Dropdown menu - hidden dynamic offset pointer event area between dropdown toggler and dropdown menu 

.dropdown-menu:where(.mouseover)::before {
	content: '';
	display: block;
	width: 100%;
	position: absolute;
	height: calc(var(--swift-dynamic-offset) + 1px);
	top: calc(calc(var(--swift-dynamic-offset) + 1px) * -1);
}

// Dropdown utilities

.dropdown-menu-shadow {
	box-shadow: 0 0.5rem 0.5rem rgba($black, .08);
}

// HTMX skeleton placeholders (articles)

.htmx-indicator {
	display: none;
}

.htmx-request .htmx-indicator {
	display: unset;
}

.htmx-request article {
	display: none;
}

//Responsive column text

.swift-column {
	container-type: inline-size;
	container-name: column;
}

@container column (min-width: 500px) {
	.swift-text {
		max-width: 70%;
	}
}

@container column (min-width: 760px) {
	.swift-text {
		max-width: 60%;
	}
}
