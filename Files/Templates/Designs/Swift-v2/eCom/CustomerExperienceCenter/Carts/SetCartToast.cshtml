@inherits ViewModelTemplate<OrderViewModel>
@using Dynamicweb.Frontend
@using Dynamicweb.Rendering
@using Dynamicweb.Ecommerce.Frontend
@using Dynamicweb.Ecommerce.Orders
@using Dynamicweb.Ecommerce.ProductCatalog

<div aria-live="polite" aria-atomic="true" class="position-fixed bottom-0 end-0 p-4 z-3"
  x-on:hidden-bs-toast.dot="bootstrap.Toast.getOrCreateInstance('#setCartToast_@Model.Id').dispose(); $event.target.parentElement.remove();">
    
    <form class="visually-hidden" 
      hx-post="@(SearchEngineFriendlyURLs.GetFriendlyUrl($"default.aspx?ID={Pageview?.Page?.ID}"))"
      hx-trigger="load"
      hx-swap="none"
      hx-on:htmx:after-request="bootstrap.Toast.getOrCreateInstance('#setCartToast_@Model.Id', { delay: 6000, autohide: true, animation: false}).show();">
      <input type="hidden" name="CartID" id="CartID" value='@Model.Id' />
      <input type="hidden" name="CartCmd" id="CartCmd" value="setcart" />
    </form>

    <div id="setCartToast_@Model.Id" class="toast toast-animate-in bg-body" role="status" aria-live="polite" aria-atomic="true">
        <div class="toast-header border-0">
            <strong class="me-auto hstack gap-2">
              <span class="icon-2 text-success">
                @ReadFile("/Files/Images/Icons/circle-check.svg")
              </span>
              <span class="fs-6">@Translate("Cart active")</span>
            </strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close" style="background-size: .5rem;"></button>
        </div>
        <div class="toast-body pt-2 text-body text-opacity-50 lh-sm fs-7">
            @Model.Id @Model.DisplayName @Translate("has been set as active")
        </div>
    </div>
</div>