@inherits Dynamicweb.Rendering.ViewModelTemplate<UserViewModel>
@using Dynamicweb.Frontend

@if (Model?.ID != null)
{
    <div class="hstack me-auto p-1 position-relative" hx-swap-oob="true outerHTML:[data-swift-cc-avatar-image]" data-swift-cc-avatar-image>
        
        @if(Model.TryGetImageFile(out ImageFileViewModel? image))
        {
            <div class="me-2" style="height:2rem; aspect-ratio:1;">
                <img src="@image.ToGetImage(new(){ Width = 32, Ratio = "1/1" })" alt="@Model.Name" class="img-thumbnail rounded-circle" itemprop="image"/>
            </div>
        }
        else 
        {
            <div class="btn btn-primary rounded-circle hstack justify-content-center p-0 me-2" style="height:2rem; aspect-ratio:1;" data-dw-button>
                <div class="d-flex fw-bold fs-7 lh-1 m-0">
                    @(Model.GetTwoLetterInitials())
                </div>
            </div>
        }

        <div class="fs-7 text-nowrap">@((!string.IsNullOrEmpty(Model?.FirstName) && !string.IsNullOrEmpty(Model?.LastName)) ? $"<span>{Model.FirstName}</span> <span>{Model.LastName}</span>" : Model?.Name)</div>
        
    </div>
}