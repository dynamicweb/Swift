@inherits Dynamicweb.Rendering.ViewModelTemplate<Dynamicweb.Frontend.ParagraphViewModel>
@using Dynamicweb.Frontend;

<div class="card">
    <div class="card-body p-4">
        @if (Model.Item.TryGetImageFile("AuthorImage", out ImageFileViewModel authorImage))
        {
            <div class="ratio ratio-1x1 mx-auto mb-3" style="max-width: 80px;">
                <img class="img-thumbnail rounded-circle object-fit-cover" src="@authorImage.Path" alt="@authorImage.Name" height="80" width="80" style="object-position: @authorImage.GetFocalPointPercentage()">
            </div>
        }

        <figure class="text-center mb-0" itemscope itemtype="https://schema.org/Quotation">

            @if (Model.Item.TryGetString("Quote", out string quote))
            {
                <blockquote class="blockquote fs-4 lh-sm position-relative" itemprop="text">
                    <i class="icon-2 text-body text-opacity-50 position-absolute start-0 top-0 translate-middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
                        <path
                            d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z" />
                    </svg></i>
                    <span class="mb-0-last-child">
                        @quote
                    </span>
                    <i class="icon-2 text-body text-opacity-50 position-absolute start-100 top-100 translate-middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor"><path d="M448 296c0 66.3-53.7 120-120 120h-8c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H320c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72zm-256 0c0 66.3-53.7 120-120 120H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72z"/></svg></i>
                </blockquote>
            }

            @if (Model.Item.TryGetString("Author", out string author))
            {
                <figcaption class="blockquote-footer fs-6 m-0 text-body text-opacity-75" itemprop="author">
                    @author
                </figcaption>
            }
        </figure>
    </div>
</div>
