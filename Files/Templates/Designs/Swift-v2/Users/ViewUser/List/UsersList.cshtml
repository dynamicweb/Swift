@inherits ViewModelTemplate<UserListViewModel>
@using Dynamicweb.Frontend
@using Dynamicweb.Rendering
@using Dynamicweb.Users.Frontend


<header class="p-3 py-md-2 border-bottom">
    <div class="grid grid-1 grid-md-2 align-items-center gap-3">
        <h1 class="h6 m-0">@Pageview.CurrentParagraph.Item["Title"]</h1>
    </div>
</header>

@if (Model.Users.Count() > 0)
{
    <table class="table d-none d-lg-table table-striped table-hover align-top mb-0">
        <thead>
            <tr>
                <th>@Translate("Id")</th>
                <th>@Translate("Name")</th>
                <th>@Translate("Customer number")</th>
                <th>@Translate("Country")</th>
            </tr>
        </thead>

        <tbody class="border-top-0">
            @foreach (var user in Model.Users)
            {
                <tr role="button"
                    tabindex="0"
                    data-bs-toggle="offcanvas" 
                    data-bs-target="#DynamicOffcanvas"
                    hx-trigger="click" 
                    hx-target="#DynamicOffcanvas" 
                    hx-get="/"
                    hx-vals='{"ParagraphId": "@Pageview.CurrentParagraph.ID", "ID": "@Pageview.Page.ID", "LayoutTemplate": "Swift-v2_PageClean.cshtml", "Secret": "@user.UniqueId"}'>

                    <td>@user.ID</td>

                    @if (!string.IsNullOrEmpty(user.Name))
                    {
                        <td>@user.Name</td>
                    }

                    <td>@user.CustomerNumber</td>

                    <td>@user.Country</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <div class="alert alert-info text-center mt-3" role="alert">
        @Translate("No users found")
    </div>
}
