@inherits Dynamicweb.Rendering.ViewModelTemplate<Dynamicweb.Users.Frontend.RecoverPasswordModule.UserPasswordRecoverViewModel>
@using Dynamicweb
@using System.Collections.Generic
@using System.Linq
@using Dynamicweb.Users.Frontend.RecoverPasswordModule


<div class="template_password-recovery">

    <div class="card border-0 mx-auto" style="max-width: 30rem;">

        <div class="card-header text-center p-4 border-bottom">
            <h4 class="display-6 m-0">@Translate("Forgot your password?")</h4>
            <p class="card-text">@Translate("Enter your name or email and we will send you a link to reset your password.")</p>
        </div>

        <div class="card-body p-4">

            <form method="post" class="grid grid-1 gap-4">

                <div class="form-floating">
                    <input type="text" name="Email" id="Email" class="form-control" placeholder="@Translate("Email")">
                    <label for="Email">@Translate("Email")</label>
                    <div class="invalid-feedback" for="Email">@Translate("Please enter a valid email.")</div>
                </div>

                <div class="form-floating">
                    <input type="text" name="Username" id="Username" class="form-control" placeholder="@Translate("Username")">
                    <label for="Username">@Translate("Username")</label>
                    <div class="invalid-feedback" for="Username">@Translate("Please enter a valid username.")</div>
                </div>

                <div class="grid grid-1">
                    <button type="submit" class="btn btn-primary btn-lg" id="PasswordRecoveryButton">@Translate("Send password link")</button>
                    <a href="/Default.aspx?ID=@GetPageIdByNavigationTag("SignInPage")" class="btn btn-link" id="BackToSignInButton">@Translate("Nevermind, back to sign in")</a>
                </div>
            </form>
            
        </div>

    </div>

</div>

@if (Model.RecoverPasswordResult == RecoverPasswordResultType.MissingValue)
{
    <div class="alert alert-info" role="alert">
        @Translate("Please provide either a username or email address.")
    </div>
}

@if (Model.RecoverPasswordResult == RecoverPasswordResultType.UserNotFound)
{
    <div class="alert alert-info" role="alert">
        @Translate("No user found with the provided username or email.")
    </div>
}

@if (Model.RecoverPasswordResult == RecoverPasswordResultType.Success)
{
    <div class="alert alert-info" role="alert">
        @Translate("Check your email - we sent you an email with a link. Click it to continue to create a new password.")
    </div>
}
